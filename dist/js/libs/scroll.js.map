{"version":3,"sources":["libs/scroll.js"],"names":["ScrollObserver","els","cb","options","document","querySelectorAll","defaultOptions","root","rootMargin","threshold","once","Object","assign","_init","callback","entries","observer","forEach","entry","isIntersecting","target","unobserve","io","IntersectionObserver","bind","POLL_INTERVAL","el","observe","disconnect"],"mappings":";;;;;;;;IAAMA,c;AACF,0BAAYC,GAAZ,EAAiBC,EAAjB,EAAqBC,OAArB,EAA8B;AAAA;;AAC1B,SAAKF,GAAL,GAAWG,QAAQ,CAACC,gBAAT,CAA0BJ,GAA1B,CAAX;AACA,QAAMK,cAAc,GAAG;AACnBC,MAAAA,IAAI,EAAE,IADa;AAEnBC,MAAAA,UAAU,EAAE,KAFO;AAGnBC,MAAAA,SAAS,EAAE,CAHQ;AAInBC,MAAAA,IAAI,EAAE;AAJa,KAAvB;AAMA,SAAKR,EAAL,GAAUA,EAAV;AACA,SAAKC,OAAL,GAAeQ,MAAM,CAACC,MAAP,CAAcN,cAAd,EAA8BH,OAA9B,CAAf;AACA,SAAKO,IAAL,GAAY,KAAKP,OAAL,CAAaO,IAAzB;;AACA,SAAKG,KAAL;AACH;;;;WACD,iBAAQ;AAAA;;AACJ,UAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAUC,OAAV,EAAmBC,QAAnB,EAA6B;AAAA;;AAC1CD,QAAAA,OAAO,CAACE,OAAR,CAAgB,UAAAC,KAAK,EAAI;AACrB,cAAIA,KAAK,CAACC,cAAV,EAA0B;AACtB,YAAA,KAAI,CAACjB,EAAL,CAAQgB,KAAK,CAACE,MAAd,EAAsB,IAAtB;;AACA,gBAAG,KAAI,CAACV,IAAR,EAAc;AACVM,cAAAA,QAAQ,CAACK,SAAT,CAAmBH,KAAK,CAACE,MAAzB;AACH;AACJ,WALD,MAKO;AACH,YAAA,KAAI,CAAClB,EAAL,CAAQgB,KAAK,CAACE,MAAd,EAAsB,KAAtB;AACH;AACJ,SATD;AAUH,OAXD;;AAaA,WAAKE,EAAL,GAAU,IAAIC,oBAAJ,CAAyBT,QAAQ,CAACU,IAAT,CAAc,IAAd,CAAzB,EAA8C,KAAKrB,OAAnD,CAAV,CAdI,CAgBJ;;AACA,WAAKmB,EAAL,CAAQG,aAAR,GAAwB,GAAxB;AAEA,WAAKxB,GAAL,CAASgB,OAAT,CAAiB,UAAAS,EAAE;AAAA,eAAI,MAAI,CAACJ,EAAL,CAAQK,OAAR,CAAgBD,EAAhB,CAAJ;AAAA,OAAnB;AACH;;;WAED,mBAAU;AACN,WAAKJ,EAAL,CAAQM,UAAR;AACH","sourcesContent":["class ScrollObserver {\n    constructor(els, cb, options) {\n        this.els = document.querySelectorAll(els);\n        const defaultOptions = {\n            root: null,\n            rootMargin: \"0px\",\n            threshold: 0,\n            once: true\n        };\n        this.cb = cb;\n        this.options = Object.assign(defaultOptions, options);\n        this.once = this.options.once;\n        this._init();\n    }\n    _init() {\n        const callback = function (entries, observer) {\n            entries.forEach(entry => {\n                if (entry.isIntersecting) {\n                    this.cb(entry.target, true);\n                    if(this.once) {\n                        observer.unobserve(entry.target);\n                    }\n                } else {\n                    this.cb(entry.target, false);\n                }\n            });\n        };\n\n        this.io = new IntersectionObserver(callback.bind(this), this.options);\n\n        // @see https://github.com/w3c/IntersectionObserver/tree/master/polyfill\n        this.io.POLL_INTERVAL = 100;\n        \n        this.els.forEach(el => this.io.observe(el));\n    }\n\n    destroy() {\n        this.io.disconnect();\n    }\n}"],"file":"scroll.js"}